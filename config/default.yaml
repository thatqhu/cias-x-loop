# AI Scientist for SCI - Configuration File
# Version: 3.0.0

# LLM Configuration
llm:
  # OpenAI Configuration (default)
  base_url: "https://generativelanguage.googleapis.com/v1beta/openai/"
  api_key: "${OPENAI_API_KEY}"  # Use environment variable
  model: "gemini-2.5-flash"
  temperature: 0.3
  max_tokens: 40960

  # Alternative: DeepSeek
  # base_url: "https://api.deepseek.com/v1"
  # api_key: "${DEEPSEEK_API_KEY}"
  # model: "deepseek-chat"

  # Alternative: Qwen
  # base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
  # api_key: "${QWEN_API_KEY}"
  # model: "qwen-turbo"

  # Alternative: Moonshot
  # base_url: "https://api.moonshot.cn/v1"
  # api_key: "${MOONSHOT_API_KEY}"
  # model: "moonshot-v1-8k"

  # Alternative: Local Ollama
  # base_url: "http://localhost:11434/v1"
  # api_key: "ollama"
  # model: "llama2"

# Design Space
design_space:
  compression_ratios: [8, 16, 24]
  mask_types: ["random", "optimized"]
  recon_families: ["CIAS-Core-ELP"] # the pareto frontier will use this
  num_stages: [5, 7, 9]
  num_features: [32, 64, 128]
  num_blocks: [2, 3, 4]
  learning_rates: [1e-4, 5e-5]
  activations: ["ReLU", "LeakyReLU"]

# Experiment Settings
experiment:
  budget_max: 10
  max_tokens: 40960
  mock_mode: remote

# Planner Settings
planner:
  max_configs_per_plan: 5 # max experiments per plan, this means the experiments = budget_max * max_configs_per_plan
  design_id: 1 # resume from design, 0 means start from scratch

pareto:
  top_k: 10 # numbers of top pareto frontiers to keep

# Executor Settings
executor:
  api_base_url: "http://localhost:8000"
  timeout: 30
  poll_interval: 1.0
  max_poll_attempts: 300

# Database Settings
database:
  path: "cias-x.db"

# Default Design Goal (Can be overridden by user input or planner)
# The only place represents `source of truth`
design_goal:
  description: "Maximize reconstruction quality (PSNR) while minimizing inference latency."
  constraints:
    latency_max: 50.0  # ms (Hard limit)
    compression_ratio_min: 16 # (Hard limit)
    psnr_min: 28.0 # dB (Quality floor - results below this are considered failures)
